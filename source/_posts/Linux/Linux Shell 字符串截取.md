---
title: Linux Shell 字符串截取
date: 2017-09-13T17:18:29.000Z
categories: Linux
tag: Shell
toc: true
---

假设有变量 var=<http://www.aaa.com/123.htm>

# 获取字符串长度

## 获取目标字符串

```shell
  ${#var}
```

## 从左边第几个字符开始，及字符的个数

```shell
  echo ${var:0:5}
  # 其中的 0 表示左边第一个字符开始，5 表示字符的总个数。
  # 结果是：http:
```

<!-- more -->

 ## 从左边第几个字符开始，一直到结束。

```shell
  echo ${var:7}
  # 其中的 7 表示左边第8个字符开始，一直到结束。
  # 结果是 ：www.aaa.com/123.htm
```

## 从右边第几个字符开始，及字符的个数

```shell
  echo ${var:0-7:3}
  # 其中的 0-7 表示右边算起第七个字符开始，3 表示字符的个数。
  # 结果是：123
```

## 从右边第几个字符开始，一直到结束

```shell
  echo ${var:0-7}
  # 表示从右边第七个字符开始，一直到结束。
  # 结果是：123.htm
  # 注：（左边的第一个字符是用 0 表示，右边的第一个字符用 0-1 表示）
```

# 截取头部字符串

## %号截取

- 此操作符从最右侧读取字符串
- 删除遇见的第一个锚点字符右边所有字符，只保留左边字符

```shell
  echo ${var%/*}
  # %/* 表示从右边开始，删除第一个 / 号及右边的字符
  # 结果是：http://www.aaa.com
```

## %% 号截取

- 此操作符从最右侧读取字符串
- 删除遇见的最后一个锚点字符右边所有字符，只保留左边字符

```shell
  echo ${var%%/*}
  # %%/* 表示从右边开始，删除最后（最左边）一个 / 号及右边的字符
  # 结果是：http:
```

# 截取尾部字符串

## # 号截取
- 此操作符从最左侧读取字符串
- 删除遇见的第一个锚点字符及左边所有字符，保留右边字符

```shell
  echo ${var#*//}
  # 其中 var 是变量名，# 号是运算符，*// 表示从左边开始删除第一个 // 号及左边的所有字符
  # 即删除 http://
  # 结果是 ：www.aaa.com/123.htm
```

## ## 号截取
- 此操作符从最左侧读取字符串
- 删除遇见的最后一个锚点字符及左边所有字符，保留右边字符

```shell
  echo ${var##*/}
  # ##*/ 表示从左边开始删除最后（最右边）一个 / 号及左边的所有字符
  # 即删除 http://www.aaa.com/
  # 结果是 123.htm
```
